<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>task-1</title>
</head>
<body>
    <h1>Дано масив 30 випадкових цілих чисел. Підрахувати скільки було обмінів під час сортування бульбашкою.</h1>

    <script>

        //1. Вводимо даннi
        function swap(array, i, j) {
            let temp = array[i];
            array[i] = array[j];
            array[j] = temp;
        }

        let arrayNum = [];
        while (arrayNum.length < 30) {
            let num = Math.floor(Math.random() * 30) + 1;
            if (!arrayNum.includes(num))
                arrayNum.push(num);
        }
        document.write(`<h2>Befor: ${arrayNum}</h2>`)

        //2. Знаходимо результат
        let swaps = 0;
        let changed;
        do {
            changed = false;
            for (let i = 1; i < arrayNum.length; i++) {
                if (arrayNum[i - 1] > arrayNum[i]) {
                    swap(arrayNum, i - 1, i); // Використовуємо функцію swap для спрощення коду
                    changed = true;
                    swaps++;
                    
                }
                document.write(`<h2>${swaps} обмін: ${arrayNum}.</h2>`)
            }
        } while (changed);

        //3. Виводимо результат
        document.write(`<h3>Всього було ${swaps} обмінів. ${arrayNum}.</h3>`)

    </script>

</body>
</html>